import {ethers} from 'ethers'

// The calldata from the previous output
const calldata = '0xda95691a00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000004c000000000000000000000000000000000000000000000000000000000000007e000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000b7a0eaa884849c6af7a129e899536dddca4905e0000000000000000000000000b7a0eaa884849c6af7a129e899536dddca4905e0000000000000000000000000b7a0eaa884849c6af7a129e899536dddca4905e0000000000000000000000000b7a0eaa884849c6af7a129e899536dddca4905e0000000000000000000000000b7a0eaa884849c6af7a129e899536dddca4905e0000000000000000000000000b7a0eaa884849c6af7a129e899536dddca4905e0000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001c5f7365744d696e7450617573656428616464726573732c626f6f6c2900000000000000000000000000000000000000000000000000000000000000000000001c5f7365744d696e7450617573656428616464726573732c626f6f6c2900000000000000000000000000000000000000000000000000000000000000000000001c5f7365744d696e7450617573656428616464726573732c626f6f6c2900000000000000000000000000000000000000000000000000000000000000000000001e5f736574426f72726f7750617573656428616464726573732c626f6f6c290000000000000000000000000000000000000000000000000000000000000000001e5f736574426f72726f7750617573656428616464726573732c626f6f6c290000000000000000000000000000000000000000000000000000000000000000001e5f736574426f72726f7750617573656428616464726573732c626f6f6c290000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000001e0000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000000400000000000000000000000006a1a771c7826596652dadc9145feaae62b1cd07f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000040000000000000000000000000a0d116513bd0b8f3f14e6ea41556c6ec34688e0f0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000004000000000000000000000000093ef8b7c6171bab1c0a51092b2c9da8dc2ba0e9d000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000400000000000000000000000006a1a771c7826596652dadc9145feaae62b1cd07f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000040000000000000000000000000a0d116513bd0b8f3f14e6ea41556c6ec34688e0f0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000004000000000000000000000000093ef8b7c6171bab1c0a51092b2c9da8dc2ba0e9d0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000013d4d49502d5233323a205061757365204d696e742f426f72726f77206f6e204d6f6f6e72697665720a0a546869732070726f706f73616c20706175736573206d696e74696e672028737570706c79696e672920616e6420626f72726f77696e67206163726f7373204d6f6f6e77656c6c206d61726b657473206f6e204d6f6f6e72697665722064756520746f20746865207363686564756c6564206465707265636174696f6e206f6620436861696e6c696e6b2070726963652066656564732e20546865206d61726b657473206166666563746564206172652078634b534d2c204d4f56522c20616e6420465241582e0a0a5769746864726177616c7320616e642072657061796d656e74732072656d61696e20656e61626c6564202d2075736572732063616e20736166656c79206578697420706f736974696f6e732e000000'

// Extract the function selector (first 4 bytes / 8 hex chars after 0x)
const functionSelector = calldata.slice(0, 10)

console.log('\n===========================================')
console.log('CALLDATA VERIFICATION')
console.log('===========================================\n')

console.log('Full Calldata:', calldata)
console.log('\nCalldata Length:', calldata.length, 'characters')
console.log('Calldata Size:', (calldata.length - 2) / 2, 'bytes')

console.log('\n--- Function Selector ---')
console.log('Selector:', functionSelector)

// Calculate the function signature hash
const proposeSignature = 'propose(address[],uint256[],string[],bytes[],string)'
const proposeSelector = ethers.utils.id(proposeSignature).slice(0, 10)

console.log('Expected:', proposeSelector, '(from "' + proposeSignature + '")')
console.log('Match:', functionSelector === proposeSelector ? '✅ YES' : '❌ NO')

console.log('\n--- Breakdown ---')
console.log('0xda95691a = propose function selector')
console.log('Remaining data = ABI-encoded parameters')

console.log('\n--- Ready to Submit ---')
console.log('This calldata is COMPLETE and includes:')
console.log('  ✅ Function selector (propose)')
console.log('  ✅ Encoded parameters (targets, values, signatures, calldatas, description)')
console.log('\nYou can submit this directly to the Governor contract!')
